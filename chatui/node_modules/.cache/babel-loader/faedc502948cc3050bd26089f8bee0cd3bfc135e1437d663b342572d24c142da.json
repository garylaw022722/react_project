{"ast":null,"code":"var _jsxFileName = \"/Users/law/Desktop/Prog/react_project/chatui/src/Pages/Login/LoginPages.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { login_Api } from '../../api/getData';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Row, Col, Form, FormGroup, FormControl, FormLabel, Container, Button } from 'react-bootstrap';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport './Login.css';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport userProfile, { createProfile } from '../../features/userProfile';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPages = () => {\n  _s();\n  var _errors$email, _errors$password;\n  const queryClient = useQueryClient();\n  const nav = useNavigate();\n  const [isLoginFail, setLoginFail] = useState(false);\n  const formSchema = Yup.object().shape({\n    email: Yup.string().max(process.env.REACT_APP_USER_EMAIL_LENGTH, process.env.REACT_APP_USER_EMAIL_PATTHER_EXECPTION_MSG).required(\"Email address is required !\"),\n    password: Yup.string().max(process.env.REACT_APP_PASSWORD_LENGTH, process.env.REACT_APP_PASSWORD_LENGTH_Execption_MSG)\n  });\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(formSchema)\n  });\n  const dispatch = useDispatch();\n  const submit = async formData => {\n    const res = await login_Api(formData);\n    let profile = {\n      username: formData.email,\n      access_Token: res.access_Token\n    };\n    if (res !== null && res !== void 0 && res.access_Token) {\n      dispatch(createProfile(profile));\n      nav(\"/chatRoom\");\n    } else {\n      setLoginFail(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"LoginContainer h-100\",\n    fluid: true,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        height: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"emptySpace\",\n        xs: 8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"p-4 \",\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              type: \"text\",\n              ...register(\"email\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              children: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              type: \"password\",\n              ...register(\"password\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              children: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            hidden: !isLoginFail,\n            children: /*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"email or password is not correct \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            backgroundColor: \"rgb(59, 72, 117)\",\n            border: 'none'\n          },\n          className: \"w-100 btnLogin p-2 card-subtitle-1\",\n          onClick: handleSubmit(submit),\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/Registration\",\n          className: \"registeration_dir card-subtitle-1\",\n          children: \" Register new Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPages, \"5LynRzBANykHYnP8owwF3zh444I=\", false, function () {\n  return [useQueryClient, useNavigate, useForm, useDispatch];\n});\n_c = LoginPages;\nexport default LoginPages;\nvar _c;\n$RefreshReg$(_c, \"LoginPages\");","map":{"version":3,"names":["React","useState","login_Api","useQuery","useMutation","useQueryClient","Row","Col","Form","FormGroup","FormControl","FormLabel","Container","Button","useForm","yupResolver","Yup","Link","useDispatch","useSelector","userProfile","createProfile","useNavigate","jsxDEV","_jsxDEV","LoginPages","_s","_errors$email","_errors$password","queryClient","nav","isLoginFail","setLoginFail","formSchema","object","shape","email","string","max","process","env","REACT_APP_USER_EMAIL_LENGTH","REACT_APP_USER_EMAIL_PATTHER_EXECPTION_MSG","required","password","REACT_APP_PASSWORD_LENGTH","REACT_APP_PASSWORD_LENGTH_Execption_MSG","register","handleSubmit","formState","errors","resolver","dispatch","submit","formData","res","profile","username","access_Token","className","fluid","children","style","height","xs","fileName","_jsxFileName","lineNumber","columnNumber","type","Text","message","hidden","backgroundColor","border","onClick","to","_c","$RefreshReg$"],"sources":["/Users/law/Desktop/Prog/react_project/chatui/src/Pages/Login/LoginPages.js"],"sourcesContent":["import React ,{useState}from 'react'\nimport {login_Api} from '../../api/getData'\nimport {useQuery , useMutation , useQueryClient} from '@tanstack/react-query'\nimport {Row, Col , Form , FormGroup , FormControl ,FormLabel, Container, Button} from 'react-bootstrap'\nimport {useForm} from 'react-hook-form'\nimport { yupResolver } from '@hookform/resolvers/yup' \nimport * as Yup from 'yup'\nimport './Login.css'\n\nimport { Link } from 'react-router-dom'\nimport {useDispatch ,useSelector} from 'react-redux'\nimport userProfile, {createProfile} from '../../features/userProfile'\nimport  { useNavigate } from 'react-router-dom'\n \nconst LoginPages = () => {\n  const queryClient = useQueryClient();\n  const nav =useNavigate();\n  const [isLoginFail, setLoginFail] = useState(false);\n    \n  const  formSchema = Yup.object().shape({\n    email: Yup.string()\n    .max(process.env.REACT_APP_USER_EMAIL_LENGTH, process.env.REACT_APP_USER_EMAIL_PATTHER_EXECPTION_MSG)\n    .required(\"Email address is required !\"),\n    \n    password: Yup.string()\n    .max(process.env.REACT_APP_PASSWORD_LENGTH ,process.env.REACT_APP_PASSWORD_LENGTH_Execption_MSG)\n    \n  })\n  const {register , handleSubmit  ,formState:{errors}} = useForm({resolver: yupResolver(formSchema)})\n  \n  const dispatch = useDispatch()\n \n  const submit =async(formData)=>\n  {\n    const res  =await login_Api(formData);\n    \n    let profile = {\n      username: formData.email,\n      access_Token : res.access_Token\n    }\n    if(res?.access_Token) {\n      dispatch(createProfile(profile))\n      nav(\"/chatRoom\");\n    }else{\n      setLoginFail(true)\n    }\n  }\n \n  \n\n\n                                \n\n  return (\n    <Container className='LoginContainer h-100' fluid={true}>\n        <Row  style={{height:'100vh'}}>\n          <Col className='emptySpace' xs={8}></Col>\n          <Col className='p-4 '>\n              <Form>\n                <legend>Login</legend>\n                <FormGroup className='mb-4'>\n                  <FormLabel>Username</FormLabel>\n                  <FormControl \n                    type='text'\n                    {...register(\"email\")}\n                  />\n                  <Form.Text>{errors.email?.message}</Form.Text>\n                </FormGroup>\n                <FormGroup className='mb-4'> \n                  <FormLabel>Password</FormLabel>\n                  <FormControl \n                    type='password'\n                    {...register(\"password\")}\n                    />\n                    <Form.Text>{errors.password?.message}</Form.Text>\n                </FormGroup>\n                <FormGroup hidden={!isLoginFail}><FormLabel>email or password is not correct </FormLabel></FormGroup>\n              </Form>\n                <Button \n                      style={{backgroundColor:\"rgb(59, 72, 117)\" , border:'none'}}\n                      className=\"w-100 btnLogin p-2 card-subtitle-1\" \n                      onClick={handleSubmit(submit)}>Sign in</Button>\n                <Link to=\"/Registration\" className='registeration_dir card-subtitle-1' > Register new Account</Link>\n          </Col>\n        </Row>\n    </Container>\n  )\n}\n\nexport default LoginPages"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}