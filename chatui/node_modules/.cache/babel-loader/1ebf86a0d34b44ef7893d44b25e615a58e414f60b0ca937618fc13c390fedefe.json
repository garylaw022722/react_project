{"ast":null,"code":"var _jsxFileName = \"/Users/law/Desktop/Prog/react_project/chatui/src/Pages/Login/LoginPages.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { login_Api } from '../../api/getData';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Row, Col, Form, FormGroup, FormControl, FormLabel, Container, Button } from 'react-bootstrap';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport './Login.css';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport userProfile, { createProfile } from '../../features/userProfile';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPages = () => {\n  _s();\n  var _errors$email, _errors$password;\n  const queryClient = useQueryClient();\n  const formSchema = Yup.object().shape({\n    email: Yup.string().max(process.env.REACT_APP_USER_EMAIL_LENGTH, process.env.REACT_APP_USER_EMAIL_PATTHER_EXECPTION_MSG).required(\"Email address is required !\"),\n    password: Yup.string().max(process.env.REACT_APP_PASSWORD_LENGTH, process.env.REACT_APP_PASSWORD_LENGTH_Execption_MSG)\n  });\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(formSchema)\n  });\n  const dispatch = useDispatch();\n  const submit = async formData => {\n    const res = await login_Api(formData);\n    let profile = {\n      username: formData.email,\n      access_Token: res.access_Token\n    };\n    if (res !== null && res !== void 0 && res.access_Token) return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/chatRoom\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 34\n    }, this);\n    dispatch(createProfile(profile));\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"LoginContainer h-100\",\n    fluid: true,\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        height: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"emptySpace\",\n        xs: 8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"p-4 \",\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              type: \"text\",\n              ...register(\"email\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              children: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              type: \"password\",\n              ...register(\"password\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              children: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            backgroundColor: \"rgb(59, 72, 117)\",\n            border: 'none'\n          },\n          className: \"w-100 btnLogin p-2 card-subtitle-1\",\n          onClick: handleSubmit(submit),\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/Registration\",\n          className: \"registeration_dir card-subtitle-1\",\n          children: \" Register new Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPages, \"sxuPv5h3UP9jW8l3oYSyGtteFDo=\", false, function () {\n  return [useQueryClient, useForm, useDispatch];\n});\n_c = LoginPages;\nexport default LoginPages;\nvar _c;\n$RefreshReg$(_c, \"LoginPages\");","map":{"version":3,"names":["React","login_Api","useQuery","useMutation","useQueryClient","Row","Col","Form","FormGroup","FormControl","FormLabel","Container","Button","useForm","yupResolver","Yup","Link","useDispatch","useSelector","userProfile","createProfile","Redirect","jsxDEV","_jsxDEV","LoginPages","_s","_errors$email","_errors$password","queryClient","formSchema","object","shape","email","string","max","process","env","REACT_APP_USER_EMAIL_LENGTH","REACT_APP_USER_EMAIL_PATTHER_EXECPTION_MSG","required","password","REACT_APP_PASSWORD_LENGTH","REACT_APP_PASSWORD_LENGTH_Execption_MSG","register","handleSubmit","formState","errors","resolver","dispatch","submit","formData","res","profile","username","access_Token","to","fileName","_jsxFileName","lineNumber","columnNumber","className","fluid","children","style","height","xs","type","Text","message","backgroundColor","border","onClick","_c","$RefreshReg$"],"sources":["/Users/law/Desktop/Prog/react_project/chatui/src/Pages/Login/LoginPages.js"],"sourcesContent":["import React from 'react'\nimport {login_Api} from '../../api/getData'\nimport {useQuery , useMutation , useQueryClient} from '@tanstack/react-query'\nimport {Row, Col , Form , FormGroup , FormControl ,FormLabel, Container, Button} from 'react-bootstrap'\nimport {useForm} from 'react-hook-form'\nimport { yupResolver } from '@hookform/resolvers/yup' \nimport * as Yup from 'yup'\nimport './Login.css'\n\nimport { Link } from 'react-router-dom'\nimport {useDispatch ,useSelector} from 'react-redux'\nimport userProfile, {createProfile} from '../../features/userProfile'\nimport  { Redirect } from 'react-router-dom'\n \nconst LoginPages = () => {\n  const queryClient = useQueryClient();\n  \n  const  formSchema = Yup.object().shape({\n    email: Yup.string()\n    .max(process.env.REACT_APP_USER_EMAIL_LENGTH, process.env.REACT_APP_USER_EMAIL_PATTHER_EXECPTION_MSG)\n    .required(\"Email address is required !\"),\n    \n    password: Yup.string()\n    .max(process.env.REACT_APP_PASSWORD_LENGTH ,process.env.REACT_APP_PASSWORD_LENGTH_Execption_MSG)\n    \n  })\n  const {register , handleSubmit  ,formState:{errors}} = useForm({resolver: yupResolver(formSchema)})\n  \n  const dispatch = useDispatch()\n \n  const submit =async(formData)=>\n  {\n    const res  =await login_Api(formData);\n    \n    let profile = {\n      username: formData.email,\n      access_Token : res.access_Token\n    }\n    if(res?.access_Token) return <Redirect to=\"/chatRoom\"/>\n    dispatch(createProfile(profile))\n  }\n \n  \n\n\n                                \n\n  return (\n    <Container className='LoginContainer h-100' fluid={true}>\n        <Row  style={{height:'100vh'}}>\n          <Col className='emptySpace' xs={8}></Col>\n          <Col className='p-4 '>\n              <Form>\n                <legend>Login</legend>\n                <FormGroup className='mb-4'>\n                  <FormLabel>Username</FormLabel>\n                  <FormControl \n                    type='text'\n                    {...register(\"email\")}\n                  />\n                  <Form.Text>{errors.email?.message}</Form.Text>\n                </FormGroup>\n                <FormGroup className='mb-4'> \n                  <FormLabel>Password</FormLabel>\n                  <FormControl \n                    type='password'\n                    {...register(\"password\")}\n                    />\n                    <Form.Text>{errors.password?.message}</Form.Text>\n                </FormGroup>\n              </Form>\n                <Button \n                      style={{backgroundColor:\"rgb(59, 72, 117)\" , border:'none'}}\n                      className=\"w-100 btnLogin p-2 card-subtitle-1\" \n                      onClick={handleSubmit(submit)}>Sign in</Button>\n                <Link to=\"/Registration\" className='registeration_dir card-subtitle-1' > Register new Account</Link>\n          </Col>\n        </Row>\n    </Container>\n  )\n}\n\nexport default LoginPages"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}